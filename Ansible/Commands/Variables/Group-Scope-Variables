Step 1. Group The OS in Inventory in a File

nano /root/inventory

[webserver]
Public-IP of OS-1
Public-IP of OS-2
.
.
.



Step 2. Download Private Key directly (public Google Drive link)
wget --no-check-certificate "https://drive.google.com/uc?export=download&id=1Gul7D4nhL5iLxpxVlzlGDqC223B6ZUcM" -O /root/.ssh/faisal.pem
chmod 400 /root/.ssh/faisal.pem



Step 3. Create group_vars Directory

mkdir /root/group_vars

echo -e "a: tomcat10\nb: present\nc: yes\n\nansible_user: ubuntu\nansible_ssh_private_key_file: /root/.ssh/faisal.pem\nansible_ssh_common_args: \"-o StrictHostKeyChecking=no\"" > /root/group_vars/webserver.yaml



Step 4. Create The playbook

- name: Installation of Tomcat10                                                                         
  hosts: webserver
  become: true
  tasks:
    - name: Installing Tomcat10
      apt:
        name: "{{a}}"
        state: "{{b}}"
        update_cache: "{{c}}"



Step 5. Run The Playbook

ansible-playbook -i /root/inventory/ playbook.yaml
